<h3>Wszystkie produkty</h3>
<ng-container class="products-list" *ngFor="let product of products; let i = index">
    <div class="product" [style.opacity]="product.quantity < 1 ? 0.5 : 1">
        <div>
            <!-- <img src="https://www.lezzat.co.uk/wp-content/uploads/2021/03/Amazon-Product-Photography-Agency-UK-1.jpg" alt="cameras"> -->
            <img src={{product.image}} alt="product">
        </div>
        <div>
            {{ product.name }} <br>
            Ilość: {{ product.quantity }} <br>
            Cena: {{ product.price }}
        </div>
        <div>
            <!-- <button [disabled]="product.quantity < 1" (click)="updateQuantity(product._id, product.quantity - 1)"><i class="fa-solid fa-plus"></i> </button> -->
            <button [disabled]="product.quantity < 1 || table[i] == product.quantity" (click)="plus(i)"><i class="fa-solid fa-plus"></i> </button>
            <span>{{ table[i] }}</span>
            <button [disabled]="table[i] == 0" (click)="minus(i)"><i class="fa-solid fa-minus"></i></button>  
            <!-- <button (click)="updateQuantity(product._id, product.quantity + 1)"><i class="fa-solid fa-minus"></i></button>   -->
            <!-- <button (click)="addToBasket(product, i); basketDialog.show()"><i class="fa-solid fa-cart-shopping"></i></button> -->
            <button (click)="basketDialog.show()"><i class="fa-solid fa-cart-shopping"></i></button>
            <!-- na razie nie spr czy nie przekroczyło max ilosci produktu -->
        </div>
    </div>
    <div>
        <dialog #basketDialog>
            <div class="dialog">
                <div class="x"><button (click)="basketDialog.close(); emptyBasket()"><i class="fa-solid fa-xmark"></i></button></div>
                <div class="choose">WYBIERZ KOSZYK</div>
                <div class="baskets">
                    <ng-container *ngFor="let basket of user[0].baskets">
                        <button [style.background-color]="(currentBasket === basket.basket) ? '#FFD3B0' : 'white'" (click)="setBasket(basket.basket)">
                            {{ basket.basket }}
                        </button>
                    </ng-container>
                </div>
                <!-- too add another func: ng-click="edit($index); open()" -->
                <div class="ok">
                    <button (click)="addToBasket(product, i); basketDialog.close()">OK</button>
                </div>
            </div>
        </dialog>
        <!-- <button (click)="basketDialog.show()">
            Show dialog
        </button> -->
    </div>
</ng-container>

